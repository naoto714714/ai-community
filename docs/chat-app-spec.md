# チャットアプリケーション仕様書

## 1. プロジェクト概要

### 1.1 目的
モダンでカジュアルなデザインのリアルタイムチャットアプリケーションのフロントエンドを構築する。

### 1.2 主要機能
- 複数チャンネルでのチャット機能
- リアルタイムメッセージ送受信（フロントエンドのみ）
- レスポンシブデザイン（PC版優先）

## 2. 技術スタック

### 2.1 フレームワーク・ライブラリ
- **React**: 18.x
- **Mantine**: 7.x（UIコンポーネントライブラリ）
- **Mantine Hooks**: カスタムフック集
- **Tabler Icons**: アイコンライブラリ

### 2.2 開発環境
- **Vite**: ビルドツール
- **TypeScript**: 型安全性の確保
- **ESLint & Prettier**: コード品質管理

## 3. 画面構成

### 3.1 レイアウト
```
+------------------+--------------------------------+
|                  |                                |
|  チャンネル一覧   |        チャット画面              |
|   (280px幅)      |         (残り全幅)              |
|                  |                                |
|  - 雑談          |  [メッセージ表示エリア]          |
|  - ゲーム        |                                |
|  - 音楽          |                                |
|  - 趣味          |  [メッセージ入力欄]              |
|  - ニュース      |                                |
|                  |                                |
+------------------+--------------------------------+
```

### 3.2 カラーテーマ
- **背景色**: ダークモード対応（Mantineのデフォルトテーマ）
- **アクセントカラー**: Mantineのblue/violet系
- **メッセージの色分け**:
  - 自分のメッセージ: 青系の背景
  - 他人のメッセージ: グレー系の背景

## 4. 機能詳細

### 4.1 チャンネル機能
- **初期チャンネル**:
  - 雑談
  - ゲーム
  - 音楽
  - 趣味
  - ニュース
- **表示**: アクティブチャンネルはハイライト表示
- **動作**: クリックでチャンネル切り替え

### 4.2 メッセージ機能
- **送信者**:
  - ユーザー（固定名）
  - bot（自動返信用）
- **表示要素**:
  - ユーザー名
  - メッセージ本文
  - タイムスタンプ（HH:mm形式）
- **最大文字数**: 2000文字
- **絵文字**: 直接入力対応
- **送信方法**:
  - Enterキー
  - 送信ボタンクリック

### 4.3 自動返信機能（デバッグ用）
- ユーザーがメッセージを送信すると、1秒後に「bot」が「こんにちは」と返信

### 4.4 アニメーション
- **メッセージ送信時**: フェードイン効果
- **チャンネル切り替え時**: スムーズな遷移
- **ホバー効果**: ボタンやチャンネルに適用

## 5. デザイン仕様

### 5.1 フォント
- **メインフォント**: システムフォント（-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP'）
- **コードフォント**: 'Fira Code', monospace

### 5.2 レスポンシブ対応
- **最小幅**: 1024px（PC版優先）
- **チャンネル一覧**: 280px固定幅
- **チャット画面**: 残り全幅を使用

### 5.3 スペーシング
- Mantineのデフォルトスペーシングシステムを使用
- パディング: md (16px) を基準

## 6. 状態管理

### 6.1 管理する状態
- **現在のチャンネルID**
- **各チャンネルのメッセージ履歴**
- **入力中のメッセージ**

### 6.2 データ構造
```typescript
interface Message {
  id: string;
  channelId: string;
  userId: string;
  userName: string;
  content: string;
  timestamp: Date;
  isOwnMessage: boolean;
}

interface Channel {
  id: string;
  name: string;
  messages: Message[];
}
```

## 7. 将来の拡張性

### 7.1 考慮事項
- 複数のbot対応を想定したメッセージ構造
- バックエンド連携を見据えたデータ構造
- チャンネル作成機能の追加を考慮したUI設計

### 7.2 拡張予定機能
- データベース連携
- リアルタイム通信（WebSocket）
- チャンネル作成・削除
- ユーザー認証
- メッセージの永続化
- スマートフォン対応

## 8. パフォーマンス要件

### 8.1 目標
- 初期ロード: 3秒以内
- メッセージ送信レスポンス: 即時（100ms以内）
- スムーズなスクロール: 60fps維持

### 8.2 最適化
- React.memoによるコンポーネントの最適化
- 仮想スクロールの実装（メッセージが多い場合）
- 遅延ロードの活用
